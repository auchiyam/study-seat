(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(37)},21:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(14),r=a.n(i),c=(a(21),a(3)),l=a(4),o=a(6),u=a(5),d=a(7),h=a(2),b=a(15);var m=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:"",pass:""},a.handle_submitted=a.handle_submitted.bind(Object(h.a)(Object(h.a)(a))),a.handle_change=a.handle_change.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handle_submitted",value:function(e){(function(e,t){return console.log(e),console.log(t),!0})(this.state.user,this.state.pass)&&this.props.change_state(1)}},{key:"handle_change",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){return s.a.createElement("div",{class:"d-flex h-100 justify-content-center align-items-center flex-column"},s.a.createElement("h1",{class:"display-4"},"StudySeat"),s.a.createElement("form",{onSubmit:this.handle_submitted},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"email",class:"form-control",id:"user",placeholder:"Username",onChange:this.handle_change})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"password",class:"form-control",id:"pass",placeholder:"Password",onChange:this.handle_change})),s.a.createElement("div",{class:"form-group d-flex justify-content-center"},s.a.createElement("button",{type:"submit",id:"login",class:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),f=a(10),v=a.n(f);v.a.initializeApp({apiKey:"AIzaSyDT3YoWmgq6SJ2DmuZuoaUyAEDrTz6wNWE",authDomain:"studyseat-6262b.firebaseapp.com",databaseURL:"https://studyseat-6262b.firebaseio.com",projectId:"studyseat-6262b",storageBucket:"studyseat-6262b.appspot.com",messagingSenderId:"216845681832"}),v.a.firestore().settings({timestampsInSnapshots:!0});var p=v.a;function g(e){return p.firestore().collection("chair").get().then(function(e){var t=[],a=-1;return e.forEach(function(e){var n=e.data(),s=n.chair_status,i=parseInt(n.table_id),r=e.id;if(a<i){for(var c=i-a,l=0;l<c;l++)t.push([]);a=i}t[i]={id:r,status:s}}),t})}var _=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={height:0,mounted:!1},a.draw_tables=a.draw_tables.bind(Object(h.a)(Object(h.a)(a))),a.handle_resize=a.handle_resize.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"draw_tables",value:function(e){for(var t=[],a=.2*e,n=0;n<this.props.tables.length;n++){var i="";switch(this.props.tables[n].status){case"0":i="#bbbbbb";break;case"1":i="#ff2445";break;case"2":i="#8f26ff";break;case"3":i="#ffb129";break;default:i="#000000"}var r=s.a.createElement("div",{style:{width:e,height:e,marginLeft:a,marginRight:a,marginTop:a,marginBottom:a,backgroundColor:i}});t.push(r)}return t}},{key:"handle_resize",value:function(){var e=this.divElement.clientHeight;this.setState({height:e,mounted:!0})}},{key:"componentDidMount",value:function(){this.handle_resize(),window.addEventListener("resize",this.handle_resize)}},{key:"render",value:function(){var e=this,t=0;t=this.props.index%2===0?"#444444":"#ffffff";var a,n=.6*this.state.height;return this.state.mounted&&(a=this.draw_tables(n)),s.a.createElement("div",{class:"d-flex h-25 justify-content-center align-item-center",ref:function(t){return e.divElement=t},style:{backgroundColor:t}},a)}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).update_status=function(e){var t=[],n=-1;e.forEach(function(e){var a=e.data(),s=a.chair_status,i=parseInt(a.table_id),r=e.id;if(n<i){for(var c=i-n,l=0;l<c;l++)t.push([]);n=i}t[i].push({id:r,status:s})}),a.setState({tables:t})},a.state={tables:[],loading:!0},a.db_ref=p.firestore().collection("chair"),a.display_status=a.display_status.bind(Object(h.a)(Object(h.a)(a))),a.initialize_status=a.initialize_status.bind(Object(h.a)(Object(h.a)(a))),a.handle_resize=a.handle_resize.bind(Object(h.a)(Object(h.a)(a))),a.draw_squares=a.draw_squares.bind(Object(h.a)(Object(h.a)(a))),a.update_status=a.update_status.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"display_status",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(s.a.createElement(_,{tables:e[a],key:a,index:a}));return t}},{key:"initialize_status",value:function(){var e=this;g().then(function(t){e.setState({tables:t})}).then(function(){e.setState({loading:!1})})}},{key:"draw_squares",value:function(e){for(var t=[],a=["#bbbbbb","#ff2445","#ffb129","#8f26ff"],n=.2*e,i=0;i<4;i++){var r=s.a.createElement("div",{style:{width:e,height:e,marginLeft:n,marginRight:n,marginTop:n,marginBottom:n,backgroundColor:a[i]}});t.push(r)}return t}},{key:"handle_resize",value:function(){var e=this.divElement.clientHeight;this.setState({height:e,mounted:!0})}},{key:"componentDidMount",value:function(){this.handle_resize(),this.initialize_status(),this.unsubscribe=this.db_ref.onSnapshot(this.update_status)}},{key:"render",value:function(){var e=this,t=.6*this.state.height,a=s.a.createElement("div",{class:"row",ref:function(t){return e.divElement=t}},s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Available: ")),s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Taken: ")),s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Semi-taken: ")),s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Reserved: ")));if(this.state.mounted){var n=this.draw_squares(t);a=s.a.createElement("div",{class:"row",ref:function(t){return e.divElement=t}},s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Available: "),n[0]),s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Taken: "),n[1]),s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Semi-taken: "),n[2]),s.a.createElement("div",{class:"col"},s.a.createElement("h3",null,"Reserved: "),n[3]))}var i=s.a.createElement("div",null);return this.state.loading||(i=this.display_status(this.state.tables)),s.a.createElement("div",{class:"d-flex h-100 flex-column"},a,i)}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={displayed:1},a.change_state=a.change_state.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"change_state",value:function(e){this.setState({displayed:e})}},{key:"render",value:function(){return 0===this.state.displayed?s.a.createElement("div",{class:"container-fluid h-100"},s.a.createElement(m,{change_state:this.change_state})):1===this.state.displayed?s.a.createElement("div",{class:"container-fluid h-100"},s.a.createElement(E,{change_state:this.change_state})):s.a.createElement("div",{class:"container-fluid d-flex h-100 justify-content-center align-items-center flex-column"},s.a.createElement("h1",null,"Oops, this state has not been implemented yet!"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.9ad616e4.chunk.js.map